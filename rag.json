{
    "nodes": [
      {
        "parameters": {},
        "type": "n8n-nodes-base.manualTrigger",
        "typeVersion": 1,
        "position": [
          -480,
          -272
        ],
        "id": "193abd59-8593-4fff-a18c-b6a57690ba65",
        "name": "When clicking ‘Execute workflow’"
      },
      {
        "parameters": {
          "operation": "download",
          "fileId": {
            "__rl": true,
            "value": "1nKZnQjuclZ_Ok2zT6Dqld1RdfdzO-AKb",
            "mode": "list",
            "cachedResultName": "Rules_of_Golf_Simplified.pdf",
            "cachedResultUrl": "https://drive.google.com/file/d/1nKZnQjuclZ_Ok2zT6Dqld1RdfdzO-AKb/view?usp=drivesdk"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleDrive",
        "typeVersion": 3,
        "position": [
          -208,
          -352
        ],
        "id": "da061285-b942-4b28-bd82-a0f4b1f60046",
        "name": "Download file",
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "TEq4MmRlhQ1tEldR",
            "name": "Google Drive account 2"
          }
        }
      },
      {
        "parameters": {
          "mode": "insert",
          "tableName": {
            "__rl": true,
            "value": "documents",
            "mode": "list",
            "cachedResultName": "documents"
          },
          "options": {
            "queryName": "match_documents"
          }
        },
        "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
        "typeVersion": 1.3,
        "position": [
          48,
          -288
        ],
        "id": "9d6dda9c-81c4-424f-bad1-76b0940f0663",
        "name": "20/2/2025",
        "credentials": {
          "supabaseApi": {
            "id": "lco3cAWkrW21xSgK",
            "name": "Supabase account"
          }
        }
      },
      {
        "parameters": {
          "dataType": "binary",
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
        "typeVersion": 1.1,
        "position": [
          400,
          112
        ],
        "id": "5054393c-ee82-4697-95cf-d948f7755cf7",
        "name": "Default Data Loader"
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
        "typeVersion": 1.2,
        "position": [
          96,
          112
        ],
        "id": "554e7d3d-ac26-4017-9da5-0f1193929d4a",
        "name": "Embeddings OpenAI",
        "credentials": {
          "openAiApi": {
            "id": "5EkKeyA7Tk9h6K3S",
            "name": "n8n free OpenAI API credits"
          }
        }
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 3.1,
        "position": [
          576,
          -448
        ],
        "id": "3feb6c4a-fca4-48ea-a8ba-87927d35590d",
        "name": "AI Agent"
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.chatTrigger",
        "typeVersion": 1.4,
        "position": [
          352,
          -448
        ],
        "id": "28d4e25b-9053-40af-85d5-daef19ac4482",
        "name": "When chat message received",
        "webhookId": "3a486280-f158-427e-aef0-b90057afcb7f"
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-5-mini"
          },
          "builtInTools": {},
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.3,
        "position": [
          448,
          -240
        ],
        "id": "c478c078-08d9-4eb3-b66f-8600904f64da",
        "name": "OpenAI Chat Model",
        "credentials": {
          "openAiApi": {
            "id": "5EkKeyA7Tk9h6K3S",
            "name": "n8n free OpenAI API credits"
          }
        }
      },
      {
        "parameters": {
          "mode": "retrieve-as-tool",
          "toolDescription": "call this tool to look up the rules of golf",
          "tableName": {
            "__rl": true,
            "value": "documents",
            "mode": "list",
            "cachedResultName": "documents"
          },
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
        "typeVersion": 1.3,
        "position": [
          928,
          -448
        ],
        "id": "862bdbc6-fe11-4456-858e-8189c45e8cde",
        "name": "Supabase Vector Store",
        "credentials": {
          "supabaseApi": {
            "id": "lco3cAWkrW21xSgK",
            "name": "20/2/2026"
          }
        }
      },
      {
        "parameters": {},
        "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
        "typeVersion": 1.3,
        "position": [
          624,
          -272
        ],
        "id": "df806361-06a7-4256-af20-51fd41fabc42",
        "name": "Postgres Chat Memory",
        "credentials": {
          "postgres": {
            "id": "webYvp2jvautE0hd",
            "name": "Postgres account 2"
          }
        }
      }
    ],
    "connections": {
      "When clicking ‘Execute workflow’": {
        "main": [
          [
            {
              "node": "Download file",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Download file": {
        "main": [
          [
            {
              "node": "20/2/2025",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "20/2/2025": {
        "main": [
          []
        ]
      },
      "Default Data Loader": {
        "ai_document": [
          [
            {
              "node": "20/2/2025",
              "type": "ai_document",
              "index": 0
            }
          ]
        ]
      },
      "Embeddings OpenAI": {
        "ai_embedding": [
          [
            {
              "node": "20/2/2025",
              "type": "ai_embedding",
              "index": 0
            },
            {
              "node": "Supabase Vector Store",
              "type": "ai_embedding",
              "index": 0
            }
          ]
        ]
      },
      "When chat message received": {
        "main": [
          [
            {
              "node": "AI Agent",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Supabase Vector Store": {
        "ai_tool": [
          [
            {
              "node": "AI Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Postgres Chat Memory": {
        "ai_memory": [
          [
            {
              "node": "AI Agent",
              "type": "ai_memory",
              "index": 0
            }
          ]
        ]
      }
    },
    "pinData": {},
    "meta": {
      "templateCredsSetupCompleted": true,
      "instanceId": "1659b37f0680a36371a421ddf32d0769cea5c83ae239db681934fe8971c3c2bb"
    }
  }